<%- include('includes/header') %>

<div class="container py-md-5 container--narrow">
  <%- include('includes/flash.ejs') %>
  <a class="small font-weight-bold" href="/post/<%= post._id%>"
    >&laquo; Back to post permalink</a
  >
  <form class="mt-3" action="/post/<%=post._id%>/edit" method="POST">
    <div class="form-group">
      <label for="post-title" class="text-muted mb-1"
        ><small>Title</small></label
      >
      <input
        value="<%= post.title %>"
        required
        name="title"
        id="post-title"
        class="form-control form-control-lg form-control-title"
        type="text"
        placeholder=""
        autocomplete="off"
      />
    </div>

    <div class="form-group">
      <label for="post-body" class="text-muted mb-1"
        ><small>Body Content</small></label
      >
      <textarea
        required
        name="body"
        id="post-body"
        class="body-content tall-textarea form-control"
        type="text"
      >
<%= post.body %></textarea
      >
      <script>
        CKEDITOR.replace("post-body", {
          // Toolbar configuration generated automatically by the editor based on config.toolbarGroups.
          toolbar: [
            {
              name: "document",
              groups: ["mode", "document", "doctools"],
              items: [
                "Source",
                "-",
                "Save",
                "NewPage",
                "ExportPdf",
                "Preview",
                "Print",
                "-",
                "Templates",
              ],
            },
            {
              name: "clipboard",
              groups: ["clipboard", "undo"],
              items: [
                "Cut",
                "Copy",
                "Paste",
                "PasteText",
                "PasteFromWord",
                "-",
                "Undo",
                "Redo",
              ],
            },
            {
              name: "editing",
              groups: ["find", "selection", "spellchecker"],
              items: ["Find", "Replace", "-", "SelectAll", "-", "Scayt"],
            },
            {
              name: "forms",
              items: [
                "Form",
                "Checkbox",
                "Radio",
                "TextField",
                "Textarea",
                "Select",
                "Button",
                "ImageButton",
                "HiddenField",
              ],
            },
            "/",
            {
              name: "basicstyles",
              groups: ["basicstyles", "cleanup"],
              items: [
                "Bold",
                "Italic",
                "Underline",
                "Strike",
                "Subscript",
                "Superscript",
                "-",
                "CopyFormatting",
                "RemoveFormat",
              ],
            },
            {
              name: "paragraph",
              groups: ["list", "indent", "blocks", "align", "bidi"],
              items: [
                "NumberedList",
                "BulletedList",
                "-",
                "Outdent",
                "Indent",
                "-",
                "Blockquote",
                "CreateDiv",
                "-",
                "JustifyLeft",
                "JustifyCenter",
                "JustifyRight",
                "JustifyBlock",
                "-",
                "BidiLtr",
                "BidiRtl",
                "Language",
              ],
            },
            { name: "links", items: ["Link", "Unlink", "Anchor"] },
            {
              name: "insert",
              items: [
                "Image",
                "Flash",
                "Table",
                "HorizontalRule",
                "Smiley",
                "SpecialChar",
                "PageBreak",
                "Iframe",
              ],
            },
            "/",
            { name: "styles", items: ["Styles", "Format", "Font", "FontSize"] },
            { name: "colors", items: ["TextColor", "BGColor"] },
            { name: "tools", items: ["Maximize", "ShowBlocks"] },
            { name: "others", items: ["-"] },
            { name: "about", items: ["About"] },
          ],

          // Toolbar groups configuration.
          toolbarGroups: [
            { name: "document", groups: ["mode", "document", "doctools"] },
            { name: "clipboard", groups: ["clipboard", "undo"] },
            { name: "editing", groups: ["find", "selection", "spellchecker"] },
            { name: "forms" },
            "/",
            { name: "basicstyles", groups: ["basicstyles", "cleanup"] },
            {
              name: "paragraph",
              groups: ["list", "indent", "blocks", "align", "bidi"],
            },
            { name: "links" },
            { name: "insert" },
            "/",
            { name: "styles" },
            { name: "colors" },
            { name: "tools" },
            { name: "others" },
            { name: "about" },
          ],
        });
      </script>
    </div>

    <button class="btn btn-primary">Save Updates</button>
  </form>
</div>

<%- include('includes/footer')%>
